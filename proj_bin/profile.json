{
    "elapsed_time_sec": 478.0066249370575,
    "files": {
        "wf.py": {
            "functions": [
                {
                    "line": "wil_tilde_integrand_new",
                    "lineno": 197,
                    "memory_samples": [
                        [
                            22585517625,
                            1997.9041669659698
                        ],
                        [
                            33185571917,
                            1997.7807571957499
                        ],
                        [
                            38319914375,
                            1998.0803318443286
                        ],
                        [
                            38772706000,
                            1998.4848259581747
                        ],
                        [
                            47004254083,
                            1999.9119255900664
                        ],
                        [
                            56736092333,
                            1998.0055239495466
                        ],
                        [
                            57033488458,
                            1999.6081480766259
                        ],
                        [
                            57738999500,
                            1998.5908441724994
                        ],
                        [
                            69739074708,
                            1996.9494278353757
                        ],
                        [
                            76607351958,
                            1999.4508518642424
                        ],
                        [
                            81216036875,
                            1998.5370132196151
                        ],
                        [
                            81888061750,
                            1999.2495591134352
                        ],
                        [
                            85204469917,
                            1998.733177760674
                        ],
                        [
                            89818723583,
                            1997.0397791743628
                        ],
                        [
                            94608993917,
                            1997.8081084898074
                        ],
                        [
                            95703910542,
                            1998.4903457888302
                        ],
                        [
                            96750946500,
                            1997.9212558444538
                        ],
                        [
                            102745479083,
                            1997.9782588183893
                        ],
                        [
                            104946507208,
                            1998.384882313547
                        ],
                        [
                            106174162458,
                            1997.7895271008733
                        ],
                        [
                            107720583625,
                            1998.7213012943976
                        ],
                        [
                            108722270917,
                            1997.8628748440358
                        ],
                        [
                            120079850250,
                            1998.5290281319865
                        ],
                        [
                            120561825542,
                            1998.6875957676898
                        ],
                        [
                            121186044625,
                            1998.923295808387
                        ],
                        [
                            121561839375,
                            1999.1786312941144
                        ],
                        [
                            123036728500,
                            1998.4602327556086
                        ],
                        [
                            130268138917,
                            1997.9920488500957
                        ],
                        [
                            132065467542,
                            1999.1229904294898
                        ],
                        [
                            134434567375,
                            1999.3132104522579
                        ],
                        [
                            148226161833,
                            1997.8287349063883
                        ],
                        [
                            148879818625,
                            1998.3226156178694
                        ],
                        [
                            153044533458,
                            1999.259831945536
                        ],
                        [
                            158034310000,
                            1996.8927239081804
                        ],
                        [
                            160775324625,
                            1997.3957426399988
                        ],
                        [
                            164547374083,
                            1998.8166992241117
                        ],
                        [
                            170899142792,
                            1997.277954063377
                        ],
                        [
                            173197499750,
                            1997.3320767215382
                        ],
                        [
                            173949278458,
                            1998.0941385996662
                        ],
                        [
                            179544050833,
                            1997.6301939237158
                        ],
                        [
                            181339667417,
                            1999.2296118535648
                        ],
                        [
                            185684635833,
                            1998.540083805343
                        ],
                        [
                            185854870583,
                            1998.7655112220614
                        ],
                        [
                            189315775000,
                            1997.409698567442
                        ],
                        [
                            196546012583,
                            1998.0048366528713
                        ],
                        [
                            200409072333,
                            1998.2511851535128
                        ],
                        [
                            205469233417,
                            1997.4851302883376
                        ],
                        [
                            206113650917,
                            1999.3975437444976
                        ],
                        [
                            206522668583,
                            1998.4256126603918
                        ],
                        [
                            214739524750,
                            1998.2456768265322
                        ],
                        [
                            223345290458,
                            1997.8631196135987
                        ],
                        [
                            229507578250,
                            1998.0135192922792
                        ],
                        [
                            232002459958,
                            1998.7219076609147
                        ],
                        [
                            247107689125,
                            1999.3083627425192
                        ],
                        [
                            247424200083,
                            1999.5469865774442
                        ],
                        [
                            258492037958,
                            1998.0953210089726
                        ],
                        [
                            263465496542,
                            1998.5117834644032
                        ],
                        [
                            266566943167,
                            1998.0592260225844
                        ],
                        [
                            268724120625,
                            1999.5842097000314
                        ],
                        [
                            269767919917,
                            1999.1094123556113
                        ],
                        [
                            270222583667,
                            1999.5791725060253
                        ],
                        [
                            274020366250,
                            1997.3545835408647
                        ],
                        [
                            275414011625,
                            1998.6140835895321
                        ],
                        [
                            278771518250,
                            2000.171430288134
                        ],
                        [
                            280112732833,
                            1997.9972841864771
                        ],
                        [
                            288530497083,
                            1997.384721176685
                        ],
                        [
                            295272764750,
                            1997.9093577706271
                        ],
                        [
                            295491051500,
                            1998.146711870436
                        ],
                        [
                            299619449292,
                            1998.5723574251847
                        ],
                        [
                            301246743667,
                            1998.3822305376266
                        ],
                        [
                            304901348083,
                            1997.8198001617843
                        ],
                        [
                            319472033000,
                            1998.202418534503
                        ],
                        [
                            320184041125,
                            1998.9512291164149
                        ],
                        [
                            324582036958,
                            1999.2915701533232
                        ],
                        [
                            326993995500,
                            1999.3948243650875
                        ],
                        [
                            330991862125,
                            1997.4821442536875
                        ],
                        [
                            337483839750,
                            1997.502992003682
                        ],
                        [
                            341604723167,
                            1997.5600199302978
                        ],
                        [
                            342559811292,
                            1998.5094044581374
                        ],
                        [
                            344193662750,
                            1998.1999358088774
                        ],
                        [
                            350050168167,
                            1998.2754305081314
                        ],
                        [
                            358112500917,
                            1998.7789371432652
                        ],
                        [
                            361832471333,
                            1998.1782644564362
                        ],
                        [
                            365391083625,
                            1997.4774963274906
                        ],
                        [
                            373549651458,
                            1997.564503064682
                        ],
                        [
                            379219692833,
                            1999.3502771523872
                        ],
                        [
                            394879119917,
                            1998.7152397377697
                        ],
                        [
                            397576476333,
                            1998.9789447746484
                        ],
                        [
                            398284201542,
                            1997.4717287277072
                        ],
                        [
                            410751587042,
                            1998.2807853812994
                        ],
                        [
                            411028714833,
                            1998.453625721289
                        ],
                        [
                            411705306333,
                            1999.1991914746473
                        ],
                        [
                            418114798625,
                            1999.104184308642
                        ],
                        [
                            440389268417,
                            1998.3909371825557
                        ],
                        [
                            443472562292,
                            1998.2130219729252
                        ],
                        [
                            444353201375,
                            1998.9922949858815
                        ],
                        [
                            445338000875,
                            1998.459653143081
                        ],
                        [
                            447084482250,
                            1999.1653315752847
                        ],
                        [
                            449877585833,
                            1999.4559041421273
                        ],
                        [
                            462239344042,
                            1998.9021005916027
                        ]
                    ],
                    "n_avg_mb": 1.5696033987380167,
                    "n_copy_mb_s": 9.184331187139147,
                    "n_cpu_percent_c": 31.14223017925673,
                    "n_cpu_percent_python": 51.89626308161916,
                    "n_gpu_avg_memory_mb": 21.13495577450031,
                    "n_gpu_peak_memory_mb": 447.4375,
                    "n_gpu_percent": 98.01296314211083,
                    "n_growth_mb": 1.819387435913086,
                    "n_malloc_mb": 2056.1804523468018,
                    "n_mallocs": 1310,
                    "n_peak_mb": 1.819387435913086,
                    "n_python_fraction": 0.8573162537786782,
                    "n_sys_percent": 14.447264059175536,
                    "n_usage_fraction": 0.5060899213974813
                }
            ],
            "leaks": {},
            "lines": [
                {
                    "line": "import matplotlib\n",
                    "lineno": 5,
                    "memory_samples": [],
                    "n_avg_mb": 1.4976024627685547,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.10913978901627082,
                    "n_cpu_percent_python": 0.07168821247563459,
                    "n_gpu_avg_memory_mb": 25.580929487179493,
                    "n_gpu_peak_memory_mb": 202.1875,
                    "n_gpu_percent": 0.10834865047886225,
                    "n_growth_mb": 13.333742141723633,
                    "n_malloc_mb": 14.831344604492188,
                    "n_mallocs": 1,
                    "n_peak_mb": 13.333742141723633,
                    "n_python_fraction": 0.9895765395149961,
                    "n_sys_percent": 0.06068947020525904,
                    "n_usage_fraction": 0.00365045490853661
                },
                {
                    "line": "import matplotlib.pyplot as plt\n",
                    "lineno": 6,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.07283569684811302,
                    "n_cpu_percent_c": 0.05010227906540814,
                    "n_cpu_percent_python": 0.21786112632379992,
                    "n_gpu_avg_memory_mb": 13.01482780612245,
                    "n_gpu_peak_memory_mb": 215.703125,
                    "n_gpu_percent": 0.23024088226758233,
                    "n_growth_mb": 11.428497314453125,
                    "n_malloc_mb": 11.428497314453125,
                    "n_mallocs": 1,
                    "n_peak_mb": 11.428497314453125,
                    "n_python_fraction": 0.9963953217433457,
                    "n_sys_percent": 0.027965804852773325,
                    "n_usage_fraction": 0.00281290842005699
                },
                {
                    "line": "import numpy as np\n",
                    "lineno": 7,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 1,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0
                },
                {
                    "line": "from mpire import WorkerPool\n",
                    "lineno": 8,
                    "memory_samples": [],
                    "n_avg_mb": 1.4776344299316406,
                    "n_copy_mb_s": 0.06819500637122176,
                    "n_cpu_percent_c": 0.01573591699558057,
                    "n_cpu_percent_python": 0.10751419969650806,
                    "n_gpu_avg_memory_mb": 14.12550403225807,
                    "n_gpu_peak_memory_mb": 228.796875,
                    "n_gpu_percent": 0.13737061042855753,
                    "n_growth_mb": 8.876638412475586,
                    "n_malloc_mb": 10.354272842407227,
                    "n_mallocs": 1,
                    "n_peak_mb": 8.876638412475586,
                    "n_python_fraction": 0.9796393050460697,
                    "n_sys_percent": 0.05124336881882082,
                    "n_usage_fraction": 0.002548508387462348
                },
                {
                    "line": "from numba import njit\n",
                    "lineno": 9,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.015820627931344044,
                    "n_cpu_percent_python": 0.039990557079942445,
                    "n_gpu_avg_memory_mb": 9.825994318181817,
                    "n_gpu_peak_memory_mb": 216.171875,
                    "n_gpu_percent": 0.0348263519396343,
                    "n_growth_mb": 11.831122398376465,
                    "n_malloc_mb": 11.831122398376465,
                    "n_mallocs": 1,
                    "n_peak_mb": 11.831122398376465,
                    "n_python_fraction": 0.9783673442603723,
                    "n_sys_percent": 0.019568182004624218,
                    "n_usage_fraction": 0.002912006967970356
                },
                {
                    "line": "from scipy.integrate import quad, quad_vec, simpson\n",
                    "lineno": 10,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.002797892964521044,
                    "n_cpu_percent_python": 0.02369404810389573,
                    "n_gpu_avg_memory_mb": 34.21299342105263,
                    "n_gpu_peak_memory_mb": 219.9375,
                    "n_gpu_percent": 0.056109122569410814,
                    "n_growth_mb": 8.874584197998047,
                    "n_malloc_mb": 8.874584197998047,
                    "n_mallocs": 1,
                    "n_peak_mb": 8.874584197998047,
                    "n_python_fraction": 0.9809469241024509,
                    "n_sys_percent": 0.02566284052382387,
                    "n_usage_fraction": 0.0021843110190421355
                },
                {
                    "line": "from scipy.interpolate import interp1d, interp2d\n",
                    "lineno": 11,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 1.6716096147603256e-05,
                    "n_cpu_percent_python": 0.0013059450115278446,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 1,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0011638460190179212,
                    "n_usage_fraction": 0.0
                },
                {
                    "line": "matplotlib.use('Qt5Agg')\n",
                    "lineno": 13,
                    "memory_samples": [],
                    "n_avg_mb": 1.4776153564453125,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.002942176744170165,
                    "n_cpu_percent_python": 0.0055512768757927464,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 1.4777088165283203,
                    "n_malloc_mb": 2.955324172973633,
                    "n_mallocs": 1,
                    "n_peak_mb": 1.4777088165283203,
                    "n_python_fraction": 0.9652469834843662,
                    "n_sys_percent": 0.00277537310942312,
                    "n_usage_fraction": 0.000727397139048397
                },
                {
                    "line": "project_path = Path.cwd().parent\n",
                    "lineno": 15,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 1,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0
                },
                {
                    "line": "import lib.cosmo_lib as csmlb\n",
                    "lineno": 18,
                    "memory_samples": [],
                    "n_avg_mb": 1.4776029586791992,
                    "n_copy_mb_s": 0.12439613831317808,
                    "n_cpu_percent_c": 0.05572110463166781,
                    "n_cpu_percent_python": 0.23805308620211987,
                    "n_gpu_avg_memory_mb": 23.875984251968507,
                    "n_gpu_peak_memory_mb": 221.125,
                    "n_gpu_percent": 0.1199574344587404,
                    "n_growth_mb": 33.28822612762451,
                    "n_malloc_mb": 37.265859603881836,
                    "n_mallocs": 1,
                    "n_peak_mb": 33.28822612762451,
                    "n_python_fraction": 0.963003639129134,
                    "n_sys_percent": 0.09100321220190105,
                    "n_usage_fraction": 0.009172286379929638
                },
                {
                    "line": "import config.config as cfg\n",
                    "lineno": 19,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 1,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0
                },
                {
                    "line": "def wil_tilde_integrand_new(z_prime, z, i_array):\n",
                    "lineno": 197,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 1310,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0
                },
                {
                    "line": "    return n_i_new(i_array, z_prime).T * (1 - csmlb.r_tilde(z) / csmlb.r_tilde(z_prime))\n",
                    "lineno": 198,
                    "memory_samples": [
                        [
                            6964032708,
                            1998.1239500303952
                        ]
                    ],
                    "n_avg_mb": 1.5696033987380167,
                    "n_copy_mb_s": 9.184331187139147,
                    "n_cpu_percent_c": 31.14223017925673,
                    "n_cpu_percent_python": 51.89626308161916,
                    "n_gpu_avg_memory_mb": 21.13495577450031,
                    "n_gpu_peak_memory_mb": 447.4375,
                    "n_gpu_percent": 98.01296314211083,
                    "n_growth_mb": 1.819387435913086,
                    "n_malloc_mb": 2056.1804523468018,
                    "n_mallocs": 1310,
                    "n_peak_mb": 1.819387435913086,
                    "n_python_fraction": 0.8573162537786782,
                    "n_sys_percent": 14.447264059175536,
                    "n_usage_fraction": 0.5060899213974813
                },
                {
                    "line": "integrand = np.zeros((z_prime_array.size, z_array.size, zbins))\n",
                    "lineno": 218,
                    "memory_samples": [
                        [
                            6766611708,
                            1997.7545922349516
                        ]
                    ],
                    "n_avg_mb": 1907.6766004562378,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 1907.6766004562378,
                    "n_malloc_mb": 1907.6766004562378,
                    "n_mallocs": 1,
                    "n_peak_mb": 1907.6766004562378,
                    "n_python_fraction": 0.00066,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.46953850751513465
                },
                {
                    "line": "for z_idx, z_val in enumerate(z_array):\n",
                    "lineno": 219,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 1,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0
                },
                {
                    "line": "    integrand[:, z_idx, :] = wil_tilde_integrand_new(z_prime_array, z_val, zbins_idxs_array).T\n",
                    "lineno": 221,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.09268686288078516,
                    "n_cpu_percent_c": 0.11786901216013514,
                    "n_cpu_percent_python": 0.3371760400034277,
                    "n_gpu_avg_memory_mb": 17.990744426751583,
                    "n_gpu_peak_memory_mb": 263.4375,
                    "n_gpu_percent": 0.6365483215633158,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.06514657642006261,
                    "n_usage_fraction": 0.0
                },
                {
                    "line": "wil_tilde_simps = np.asarray([simpson(integrand[z_idx:, z_idx, :], axis=0) for z_idx, _ in enumerate(z_array)])\n",
                    "lineno": 240,
                    "memory_samples": [
                        [
                            476913283333,
                            1997.3396198511389
                        ]
                    ],
                    "n_avg_mb": 1.4776592254638672,
                    "n_copy_mb_s": 4.497867664907365,
                    "n_cpu_percent_c": 0.09024783057918725,
                    "n_cpu_percent_python": 0.4092880101553096,
                    "n_gpu_avg_memory_mb": 9.77119098712446,
                    "n_gpu_peak_memory_mb": 225.53125,
                    "n_gpu_percent": 0.6365483215633158,
                    "n_growth_mb": 1.4776592254638672,
                    "n_malloc_mb": 1.4776592254638672,
                    "n_mallocs": 1,
                    "n_peak_mb": 1.4776592254638672,
                    "n_python_fraction": 0.011333000000000001,
                    "n_sys_percent": 0.19863156177678104,
                    "n_usage_fraction": 0.00036369786533752176
                },
                {
                    "line": "print('simpson integral done in: ', time.perf_counter() - start)\n",
                    "lineno": 241,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0006244284649959366,
                    "n_cpu_percent_python": 0.0023161293211969324,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0.0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0001764144176490787,
                    "n_usage_fraction": 0.0
                },
                {
                    "line": "        results = pool.map(wil_tilde_old, data, progress_bar=True)\n",
                    "lineno": 249,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": -0.43055638659909634,
                    "n_cpu_percent_python": -23.75015528971162,
                    "n_gpu_avg_memory_mb": 89.1875,
                    "n_gpu_peak_memory_mb": 183.65625,
                    "n_gpu_percent": 0.02708716261971557,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 24.198208800759,
                    "n_usage_fraction": 0.0
                }
            ],
            "percent_cpu_time": 99.96273750077331
        }
    },
    "gpu": true,
    "growth_rate": 49.162795605407936,
    "max_footprint_mb": 2000.4866733551025,
    "memory": true,
    "program": "wf.py",
    "samples": [
        [
            6766540917,
            1998.0589418472578
        ],
        [
            28345333,
            1.5219752762281917
        ],
        [
            6766540917,
            1998.030063486585
        ]
    ]
}
